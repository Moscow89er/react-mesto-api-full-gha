{"ast":null,"code":"import{useRef,useEffect}from'react';import PopupWithForm from'./PopupWithForm.js';import useFormValidator from'../utils/useFormValidator.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddPlace=_ref.onAddPlace,isLoading=_ref.isLoading;var cardnameRef=useRef('');var cardlinkRef=useRef('');var _useFormValidator=useFormValidator(),formValues=_useFormValidator.formValues,formErrors=_useFormValidator.formErrors,isValid=_useFormValidator.isValid,handleInputChange=_useFormValidator.handleInputChange,resetForm=_useFormValidator.resetForm;function handleSubmit(evt){evt.preventDefault();onAddPlace({name:cardnameRef.current.value,link:cardlinkRef.current.value});};useEffect(function(){if(!isOpen){resetForm();}cardnameRef.current.value='';cardlinkRef.current.value='';},[isOpen,resetForm]);return/*#__PURE__*/_jsxs(PopupWithForm,{isOpen:isOpen,onClose:onClose,handleSubmit:handleSubmit,isLoading:isLoading,buttonLoadingText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435...\",name:\"add\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",buttonText:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",isFormValid:isValid,children:[/*#__PURE__*/_jsx(\"input\",{ref:cardnameRef,id:\"cardname\",type:\"text\",name:\"cardname\",onChange:handleInputChange,placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",className:\"popup__input popup__input_type_cardname\",minLength:2,maxLength:30,required:true}),!isValid&&formValues.cardname&&/*#__PURE__*/_jsx(\"div\",{className:\"popup__form-error-cardname\",children:formErrors.cardname}),/*#__PURE__*/_jsx(\"input\",{ref:cardlinkRef,id:\"cardlink\",type:\"url\",name:\"cardlink\",onChange:handleInputChange,placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",className:\"popup__input popup__input_type_cardlink\",required:true}),!isValid&&formValues.cardlink&&/*#__PURE__*/_jsx(\"div\",{className:\"popup__form-error-cardlink\",children:formErrors.cardlink})]});}export default AddPlacePopup;","map":{"version":3,"names":["useRef","useEffect","PopupWithForm","useFormValidator","jsx","_jsx","jsxs","_jsxs","AddPlacePopup","_ref","isOpen","onClose","onAddPlace","isLoading","cardnameRef","cardlinkRef","_useFormValidator","formValues","formErrors","isValid","handleInputChange","resetForm","handleSubmit","evt","preventDefault","name","current","value","link","buttonLoadingText","title","buttonText","isFormValid","children","ref","id","type","onChange","placeholder","className","minLength","maxLength","required","cardname","cardlink"],"sources":["C:/Users/Batumi_89er/dev/mesto-react/src/components/AddPlacePopup.js"],"sourcesContent":["import { useRef, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport useFormValidator from '../utils/useFormValidator.js';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n    const cardnameRef = useRef('');\r\n    const cardlinkRef = useRef('');\r\n    const { formValues, formErrors, isValid, handleInputChange, resetForm } = useFormValidator(); \r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        onAddPlace({\r\n            name: cardnameRef.current.value,\r\n            link: cardlinkRef.current.value\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            resetForm();\r\n        }\r\n\r\n        cardnameRef.current.value = '';\r\n        cardlinkRef.current.value = '';\r\n    }, [isOpen, resetForm]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            handleSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n            buttonLoadingText=\"Сохранение...\"\r\n            name=\"add\"\r\n            title=\"Новое место\"\r\n            buttonText=\"Создать\"\r\n            isFormValid={isValid}\r\n        >\r\n            <input\r\n                ref={cardnameRef}\r\n                id=\"cardname\"\r\n                type=\"text\"\r\n                name=\"cardname\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Название\"\r\n                className=\"popup__input popup__input_type_cardname\"\r\n                minLength={2}\r\n                maxLength={30}\r\n                required\r\n            />\r\n            {!isValid && formValues.cardname && <div className=\"popup__form-error-cardname\">{formErrors.cardname}</div>}\r\n            <input\r\n                ref={cardlinkRef}\r\n                id=\"cardlink\"\r\n                type=\"url\"\r\n                name=\"cardlink\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Ссылка на картинку\"\r\n                className=\"popup__input popup__input_type_cardlink\"\r\n                required\r\n            />\r\n            {!isValid && formValues.cardlink && <div className=\"popup__form-error-cardlink\">{formErrors.cardlink}</div>}\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;"],"mappings":"AAAA,OAASA,MAAM,CAAEC,SAAS,KAAQ,OAAO,CACzC,MAAO,CAAAC,aAAa,KAAM,oBAAoB,CAC9C,MAAO,CAAAC,gBAAgB,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5D,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAA6C,IAA1C,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,SAAS,CAAAJ,IAAA,CAATI,SAAS,CAC3D,GAAM,CAAAC,WAAW,CAAGd,MAAM,CAAC,EAAE,CAAC,CAC9B,GAAM,CAAAe,WAAW,CAAGf,MAAM,CAAC,EAAE,CAAC,CAC9B,IAAAgB,iBAAA,CAA0Eb,gBAAgB,EAAE,CAApFc,UAAU,CAAAD,iBAAA,CAAVC,UAAU,CAAEC,UAAU,CAAAF,iBAAA,CAAVE,UAAU,CAAEC,OAAO,CAAAH,iBAAA,CAAPG,OAAO,CAAEC,iBAAiB,CAAAJ,iBAAA,CAAjBI,iBAAiB,CAAEC,SAAS,CAAAL,iBAAA,CAATK,SAAS,CAErE,QAAS,CAAAC,YAAYA,CAACC,GAAG,CAAE,CACvBA,GAAG,CAACC,cAAc,EAAE,CAEpBZ,UAAU,CAAC,CACPa,IAAI,CAAEX,WAAW,CAACY,OAAO,CAACC,KAAK,CAC/BC,IAAI,CAAEb,WAAW,CAACW,OAAO,CAACC,KAC9B,CAAC,CAAC,CACN,CAAC,CAED1B,SAAS,CAAC,UAAM,CACZ,GAAI,CAACS,MAAM,CAAE,CACTW,SAAS,EAAE,CACf,CAEAP,WAAW,CAACY,OAAO,CAACC,KAAK,CAAG,EAAE,CAC9BZ,WAAW,CAACW,OAAO,CAACC,KAAK,CAAG,EAAE,CAClC,CAAC,CAAE,CAACjB,MAAM,CAAEW,SAAS,CAAC,CAAC,CAEvB,mBACId,KAAA,CAACL,aAAa,EACVQ,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBW,YAAY,CAAEA,YAAa,CAC3BT,SAAS,CAAEA,SAAU,CACrBgB,iBAAiB,CAAC,iEAAe,CACjCJ,IAAI,CAAC,KAAK,CACVK,KAAK,CAAC,+DAAa,CACnBC,UAAU,CAAC,4CAAS,CACpBC,WAAW,CAAEb,OAAQ,CAAAc,QAAA,eAErB5B,IAAA,UACI6B,GAAG,CAAEpB,WAAY,CACjBqB,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,MAAM,CACXX,IAAI,CAAC,UAAU,CACfY,QAAQ,CAAEjB,iBAAkB,CAC5BkB,WAAW,CAAC,kDAAU,CACtBC,SAAS,CAAC,yCAAyC,CACnDC,SAAS,CAAE,CAAE,CACbC,SAAS,CAAE,EAAG,CACdC,QAAQ,OACV,CACD,CAACvB,OAAO,EAAIF,UAAU,CAAC0B,QAAQ,eAAItC,IAAA,QAAKkC,SAAS,CAAC,4BAA4B,CAAAN,QAAA,CAAEf,UAAU,CAACyB,QAAQ,EAAO,cAC3GtC,IAAA,UACI6B,GAAG,CAAEnB,WAAY,CACjBoB,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,KAAK,CACVX,IAAI,CAAC,UAAU,CACfY,QAAQ,CAAEjB,iBAAkB,CAC5BkB,WAAW,CAAC,oGAAoB,CAChCC,SAAS,CAAC,yCAAyC,CACnDG,QAAQ,OACV,CACD,CAACvB,OAAO,EAAIF,UAAU,CAAC2B,QAAQ,eAAIvC,IAAA,QAAKkC,SAAS,CAAC,4BAA4B,CAAAN,QAAA,CAAEf,UAAU,CAAC0B,QAAQ,EAAO,GAC/F,CAExB,CAEA,cAAe,CAAApC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}