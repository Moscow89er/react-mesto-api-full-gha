{"ast":null,"code":"import _defineProperty from\"C:/Users/Batumi_89er/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Batumi_89er/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Batumi_89er/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from\"react-router-dom\";import*as auth from'../utils/auth.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var openInfoTooltip=_ref.openInfoTooltip,onError=_ref.onError;var _useState=useState({password:'',email:''}),_useState2=_slicedToArray(_useState,2),formValue=_useState2[0],setFormValue=_useState2[1];var navigate=useNavigate();var handleChange=function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setFormValue(_objectSpread(_objectSpread({},formValue),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(evt){evt.preventDefault();var password=formValue.password,email=formValue.email;auth.register(password,email).then(function(){onError(false);openInfoTooltip(true);navigate('/sign-in',{replace:true});}).catch(function(err){onError(true);openInfoTooltip(true);console.log(err);});};return/*#__PURE__*/_jsxs(\"section\",{className:\"form form-register\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"form__title form__title-register\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form__type__form\",children:[/*#__PURE__*/_jsx(\"input\",{value:formValue.email,onChange:handleChange,type:\"email\",name:\"email\",placeholder:\"Email\",className:\"form__input form__input-register\"}),/*#__PURE__*/_jsx(\"input\",{value:formValue.password,onChange:handleChange,type:\"password\",name:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"form__input form__input-register\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form__submit-button form__submit-button-register\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"form__link form__link-register\",children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \\u0412\\u043E\\u0439\\u0442\\u0438\"})]});}export default Register;","map":{"version":3,"names":["React","useState","Link","useNavigate","auth","jsx","_jsx","jsxs","_jsxs","Register","_ref","openInfoTooltip","onError","_useState","password","email","_useState2","_slicedToArray","formValue","setFormValue","navigate","handleChange","evt","_evt$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","register","then","replace","catch","err","console","log","className","children","onSubmit","onChange","type","placeholder","to"],"sources":["C:/Users/Batumi_89er/dev/react-mesto-auth/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport * as auth from '../utils/auth.js';\r\n\r\nfunction Register ({ openInfoTooltip, onError }) {\r\n    const [formValue, setFormValue] = useState({\r\n        password: '',\r\n        email: ''\r\n    })\r\n\r\n    const navigate = useNavigate();\r\n    \r\n    const handleChange = (evt) => {\r\n        const {name, value} = evt.target;\r\n\r\n        setFormValue({\r\n            ...formValue,\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        const {password, email} = formValue;\r\n        auth.register(password, email)\r\n            .then(() => {\r\n                onError(false);\r\n                openInfoTooltip(true);\r\n                navigate('/sign-in', {replace: true});\r\n            })\r\n            .catch((err) => {\r\n                onError(true);\r\n                openInfoTooltip(true);\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <section className=\"form form-register\">\r\n            <h1 className=\"form__title form__title-register\">Регистрация</h1>\r\n            <form onSubmit={handleSubmit} className=\"form__type__form\">\r\n                <input\r\n                    value={formValue.email}\r\n                    onChange={handleChange}\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                    className=\"form__input form__input-register\"\r\n                />\r\n                <input\r\n                    value={formValue.password}\r\n                    onChange={handleChange}\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    className=\"form__input form__input-register\"\r\n                />\r\n                <button \r\n                    type=\"submit\"\r\n                    className=\"form__submit-button form__submit-button-register\"\r\n                    >Зарегистрироваться\r\n                </button>\r\n            </form>\r\n            <Link to=\"/sign-in\" className=\"form__link form__link-register\">Уже зарегистрированы? Войти</Link>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Register;"],"mappings":"8XAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,GAAK,CAAAC,IAAI,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAgC,IAA5B,CAAAC,eAAe,CAAAD,IAAA,CAAfC,eAAe,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CACzC,IAAAC,SAAA,CAAkCZ,QAAQ,CAAC,CACvCa,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EACX,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAHKK,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAK9B,GAAM,CAAAI,QAAQ,CAAGjB,WAAW,EAAE,CAE9B,GAAM,CAAAkB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,GAAG,CAAK,CAC1B,IAAAC,WAAA,CAAsBD,GAAG,CAACE,MAAM,CAAzBC,IAAI,CAAAF,WAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,WAAA,CAALG,KAAK,CAElBP,YAAY,CAAAQ,aAAA,CAAAA,aAAA,IACLT,SAAS,KAAAU,eAAA,IACXH,IAAI,CAAGC,KAAK,GACf,CACN,CAAC,CAED,GAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIP,GAAG,CAAK,CAC1BA,GAAG,CAACQ,cAAc,EAAE,CACpB,GAAO,CAAAhB,QAAQ,CAAWI,SAAS,CAA5BJ,QAAQ,CAAEC,KAAK,CAAIG,SAAS,CAAlBH,KAAK,CACtBX,IAAI,CAAC2B,QAAQ,CAACjB,QAAQ,CAAEC,KAAK,CAAC,CACzBiB,IAAI,CAAC,UAAM,CACRpB,OAAO,CAAC,KAAK,CAAC,CACdD,eAAe,CAAC,IAAI,CAAC,CACrBS,QAAQ,CAAC,UAAU,CAAE,CAACa,OAAO,CAAE,IAAI,CAAC,CAAC,CACzC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACZvB,OAAO,CAAC,IAAI,CAAC,CACbD,eAAe,CAAC,IAAI,CAAC,CACrByB,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CACpB,CAAC,CAAC,CACV,CAAC,CAED,mBACI3B,KAAA,YAAS8B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACnCjC,IAAA,OAAIgC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,oEAAW,EAAK,cACjE/B,KAAA,SAAMgC,QAAQ,CAAEX,YAAa,CAACS,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACtDjC,IAAA,UACIoB,KAAK,CAAER,SAAS,CAACH,KAAM,CACvB0B,QAAQ,CAAEpB,YAAa,CACvBqB,IAAI,CAAC,OAAO,CACZjB,IAAI,CAAC,OAAO,CACZkB,WAAW,CAAC,OAAO,CACnBL,SAAS,CAAC,kCAAkC,EAC9C,cACFhC,IAAA,UACIoB,KAAK,CAAER,SAAS,CAACJ,QAAS,CAC1B2B,QAAQ,CAAEpB,YAAa,CACvBqB,IAAI,CAAC,UAAU,CACfjB,IAAI,CAAC,UAAU,CACfkB,WAAW,CAAC,sCAAQ,CACpBL,SAAS,CAAC,kCAAkC,EAC9C,cACFhC,IAAA,WACIoC,IAAI,CAAC,QAAQ,CACbJ,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAC3D,8GACL,EAAS,GACN,cACPjC,IAAA,CAACJ,IAAI,EAAC0C,EAAE,CAAC,UAAU,CAACN,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,qJAA2B,EAAO,GAC3F,CAElB,CAEA,cAAe,CAAA9B,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}