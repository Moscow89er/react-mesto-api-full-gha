{"ast":null,"code":"import _classCallCheck from\"C:/Users/Batumi_89er/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Batumi_89er/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._url=options.url;this._headers=options.headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(this._url+'/users/me',{method:'GET',headers:this._headers}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(this._url+'/cards',{method:'GET',headers:this._headers}).then(this._checkResponse);}},{key:\"editUserInfo\",value:function editUserInfo(userData){return fetch(this._url+'/users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:userData.username,about:userData.about})}).then(this._checkResponse);}},{key:\"editUserAvatar\",value:function editUserAvatar(userData){return fetch(this._url+'/users/me/avatar',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:userData.avatarlink})}).then(this._checkResponse);}},{key:\"addNewCard\",value:function addNewCard(data){return fetch(this._url+'/cards',{method:'POST',headers:this._headers,body:JSON.stringify({name:data.cardname,link:data.cardlink,cardId:data._id})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(this._url+\"/cards/\".concat(cardId),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"likeCard\",value:function likeCard(cardId){return fetch(this._url+\"/cards/\".concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkResponse);}},{key:\"dislikeCard\",value:function dislikeCard(cardId){return fetch(this._url+\"/cards/\".concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"getData\",value:function getData(){return Promise.all([this.getInitialCards(),this.getUserInfo()]);}}]);return Api;}();;var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-62',headers:{authorization:'f222d885-e074-4ace-9dec-53e306a04a75','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","options","_classCallCheck","_url","url","_headers","headers","_createClass","key","value","_checkResponse","res","ok","json","Promise","reject","concat","status","getUserInfo","fetch","method","then","getInitialCards","editUserInfo","userData","body","JSON","stringify","name","username","about","editUserAvatar","avatar","avatarlink","addNewCard","data","cardname","link","cardlink","cardId","_id","deleteCard","likeCard","dislikeCard","getData","all","api","authorization"],"sources":["C:/Users/Batumi_89er/dev/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\r\n    constructor(options) {\r\n      this._url = options.url;\r\n      this._headers = options.headers;\r\n    };\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    };\r\n    getUserInfo() {\r\n        return fetch(this._url + '/users/me', {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse);\r\n    };\r\n    getInitialCards() {\r\n        return fetch(this._url + '/cards', {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse);\r\n    };\r\n    editUserInfo(userData) {\r\n        return fetch(this._url + '/users/me', {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: userData.username,\r\n                about: userData.about\r\n            })\r\n        })\r\n        .then(this._checkResponse);\r\n    };\r\n    editUserAvatar(userData) {\r\n        return fetch(this._url + '/users/me/avatar', {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: userData.avatarlink\r\n            })\r\n        })\r\n        .then(this._checkResponse);\r\n    };\r\n    addNewCard(data) {\r\n        return fetch(this._url + '/cards', {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.cardname,\r\n                link: data.cardlink,\r\n                cardId: data._id\r\n            })\r\n        })\r\n        .then(this._checkResponse);\r\n    };\r\n    deleteCard(cardId) {\r\n        return fetch (this._url + `/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse);\r\n    };\r\n    likeCard(cardId) {\r\n        return fetch (this._url + `/cards/${cardId}/likes`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse);\r\n    };\r\n    dislikeCard(cardId) {\r\n        return fetch (this._url + `/cards/${cardId}/likes`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse);\r\n    };\r\n    getData() {\r\n        return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n    };\r\n  };\r\n  \r\nconst api = new Api ({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-62',\r\n    headers: {\r\n      authorization: 'f222d885-e074-4ace-9dec-53e306a04a75',\r\n      'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}