{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\n//import { validateForm } from './validateForm.js';\n\nfunction useFormValidator() {\n  _s();\n  const [formValues, setFormValues] = React.useState({});\n  const [formErrors, setFormErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(true);\n  //const [isFilled, setIsFilled] = React.useState(false);\n  //const setIsValidCallback = React.useCallback((valid) => setIsValid(valid), []);\n\n  const handleInputChange = evt => {\n    //evt.preventDefault();\n    //setIsFilled(true);\n    const {\n      name,\n      value\n    } = evt.target;\n    setFormValues({\n      ...formValues,\n      [name]: value\n    });\n    setFormErrors({\n      ...formErrors,\n      [name]: evt.target.validationMessage\n    });\n    setIsValid(evt.target.closest('form').checkValidity());\n  };\n  const resetForm = React.useCallback(() => {\n    //setIsFilled(false);\n    setFormValues({});\n    setFormErrors({});\n    setIsValid(false);\n  }, [setFormValues, setFormErrors, setIsValid]);\n\n  /*React.useEffect(() => {\r\n      if (!isFilled) {\r\n          setFormErrors({});\r\n          setIsValid(true);\r\n          return;\r\n      }\r\n      setIsValidCallback(false);\r\n      validateForm(formValues, setFormErrors, setIsValidCallback);\r\n  }, [formValues, setFormErrors, setIsValidCallback, isFilled]);*/\n\n  return {\n    formValues,\n    formErrors,\n    isValid,\n    handleInputChange,\n    resetForm\n  };\n}\n_s(useFormValidator, \"jieBhJxTIEorGFufv+N6JXj27H4=\");\nexport default useFormValidator;","map":{"version":3,"names":["React","useFormValidator","_s","formValues","setFormValues","useState","formErrors","setFormErrors","isValid","setIsValid","handleInputChange","evt","name","value","target","validationMessage","closest","checkValidity","resetForm","useCallback"],"sources":["C:/Users/Batumi_89er/dev/mesto-react/src/utils/useFormValidator.js"],"sourcesContent":["import React from 'react';\r\n//import { validateForm } from './validateForm.js';\r\n\r\nfunction useFormValidator () {\r\n    const [formValues, setFormValues] = React.useState({});\r\n    const [formErrors, setFormErrors] = React.useState({});\r\n    const [isValid, setIsValid] = React.useState(true);\r\n    //const [isFilled, setIsFilled] = React.useState(false);\r\n    //const setIsValidCallback = React.useCallback((valid) => setIsValid(valid), []);\r\n\r\n    const handleInputChange = (evt) => {\r\n        //evt.preventDefault();\r\n        //setIsFilled(true);\r\n        const  { name, value } = evt.target;\r\n        setFormValues({...formValues, [name]: value});\r\n        setFormErrors({...formErrors, [name]: evt.target.validationMessage});\r\n        setIsValid(evt.target.closest('form').checkValidity());\r\n    };\r\n\r\n    const resetForm = React.useCallback(() => {\r\n        //setIsFilled(false);\r\n        setFormValues({});\r\n        setFormErrors({});\r\n        setIsValid(false);\r\n    }, [setFormValues, setFormErrors, setIsValid]);\r\n\r\n    /*React.useEffect(() => {\r\n        if (!isFilled) {\r\n            setFormErrors({});\r\n            setIsValid(true);\r\n            return;\r\n        }\r\n        setIsValidCallback(false);\r\n        validateForm(formValues, setFormErrors, setIsValidCallback);\r\n    }, [formValues, setFormErrors, setIsValidCallback, isFilled]);*/\r\n\r\n    return { formValues, formErrors, isValid, handleInputChange, resetForm };\r\n}\r\n\r\nexport default useFormValidator;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB;;AAEA,SAASC,gBAAgBA,CAAA,EAAI;EAAAC,EAAA;EACzB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGJ,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtD,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtD,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGT,KAAK,CAACK,QAAQ,CAAC,IAAI,CAAC;EAClD;EACA;;EAEA,MAAMK,iBAAiB,GAAIC,GAAG,IAAK;IAC/B;IACA;IACA,MAAO;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,GAAG,CAACG,MAAM;IACnCV,aAAa,CAAC;MAAC,GAAGD,UAAU;MAAE,CAACS,IAAI,GAAGC;IAAK,CAAC,CAAC;IAC7CN,aAAa,CAAC;MAAC,GAAGD,UAAU;MAAE,CAACM,IAAI,GAAGD,GAAG,CAACG,MAAM,CAACC;IAAiB,CAAC,CAAC;IACpEN,UAAU,CAACE,GAAG,CAACG,MAAM,CAACE,OAAO,CAAC,MAAM,CAAC,CAACC,aAAa,EAAE,CAAC;EAC1D,CAAC;EAED,MAAMC,SAAS,GAAGlB,KAAK,CAACmB,WAAW,CAAC,MAAM;IACtC;IACAf,aAAa,CAAC,CAAC,CAAC,CAAC;IACjBG,aAAa,CAAC,CAAC,CAAC,CAAC;IACjBE,UAAU,CAAC,KAAK,CAAC;EACrB,CAAC,EAAE,CAACL,aAAa,EAAEG,aAAa,EAAEE,UAAU,CAAC,CAAC;;EAE9C;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEI,OAAO;IAAEN,UAAU;IAAEG,UAAU;IAAEE,OAAO;IAAEE,iBAAiB;IAAEQ;EAAU,CAAC;AAC5E;AAAChB,EAAA,CAlCQD,gBAAgB;AAoCzB,eAAeA,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}